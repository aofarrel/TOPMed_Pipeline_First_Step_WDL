# Tentative differnces between CWL and WDL versions
Work in progress. No promises are made about the accuracy of these comparsions.

## Strictly Necessary Changes  
Filenames are generated by calling the Seven Bridges API in the CWL. This isn't possible in WDL, so inputs are generated from JSONs instead.  

----
The WDL relocalizes all files into the working directory in the unique variant IDs step, because otherwise generating a valid configuration file for the resulting R script seems to be impossible (at least on local runs). Please just trust me on this one.

----
The original CWL does not have an option for disk space, but the WDL does.  
* Reasoning: The CWL likely lacks this because most people run CWL on an AWS instance (which scales automatically), while the WDL has attributes on a per-task level. Google Cloud, the backend for Terra, gives you a little bit of storage but does not automatically scale that, and will cut you off at some point unless you requested more storage as a task begins. In other words storage arguments are a soft requirement for small inputs and a hard requirement for inputs >1 GB-ish.



## Different Design Choices
The CWL calls other CWLs. The WDL does not call other WDLs.  
* Reasoning: It is possible for WDLs to contain just tasks and be imported into another task, but in some contexts it can be slightly less secure, especially if the imports are performed by calling another URL (which they would need to be if be ran on Terra).

----
The original CWL allocates memory and CPUs on an overall level, while the WDL does it on a task level. In other words, the WDL is more granular.  
* Reasoning: GCS has stricter requirements than AWS regarding storage. Doing it this way also allows the check GDS step, which takes a lot more resources, to call more than the rest of the the WDL, saving money.


## Miscellaneous
The WDL currently lacks the format argument. It's in progress.

----
Both the CWL and the WDL generate config files on a per-task basis. That is to say, a given task generates a brand new config file, then runs a single R script with that new config file. However, the CWL generates config files using an InlineJavascriptRequirement, which is run before the CWL equivivalent of a task's command section begins. The WDL generates them using an inline Python script during the beginning of a task's command section.  
* Reasoning: ~I don't like Javascript.~ WDL lacks the option for running Javascript before a task executes and messing about with Node in a task when I can just call Python seems a bit unnecessary. There are also a few aspects of the original CWL's Javascript that I believe would not work in WDL.
